<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>投資メモと電卓 無料ブラウザツール｜積立NISA 複利計算付き</title>
  <meta name="description" content="投資メモと電卓が無料で使えるWebツール。積立NISA・複利計算、家計管理テンプレート、株式リンク集をワンストップで提供します.">
  <meta name="keywords" content="投資,積立NISA,複利,電卓,メモ,家計簿,株式リンク集">
  <meta name="google-adsense-account" content="ca-pub-3701488620779249">
  <link rel="stylesheet" href="/css/c.css">
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","name":"投資メモ電卓webブラウザ無料サイト","url":"https://memoc.pages.dev/toushi/","description":"投資メモと電卓が無料で使えるWebツール。積立NISAの複利計算や株式リンク集を提供します。","potentialAction":{"@type":"SearchAction","target":"https://memoc.pages.dev/toushi/?q={search_term_string}","query-input":"required name=search_term_string"}}
  </script>
  <style>
    /* 最低限のレスポンシブ調整 */
    #container{max-width:1100px;margin:0 auto;padding:12px;font-family:system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;}
    #banner h1 a{color:inherit;text-decoration:none;}
    #links-left{float:left;width:280px;padding:8px;box-sizing:border-box;}
    #content{margin-left:300px;padding:8px;box-sizing:border-box;}
    #calculator{max-width:320px;}
    #calculator table{width:100%;border-collapse:collapse;}
    #calculator button{width:100%;padding:12px;font-size:1.05rem;}
    @media (max-width:800px){
      #links-left{float:none;width:100%;}
      #content{margin-left:0;}
    }
  </style>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5D799GZERM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-5D799GZERM');
</script>
<body>
<div id="container">
  <div id="banner">
    <h1><a href="https://memoc.pages.dev/toushi/" rel="noopener noreferrer">投資メモ電卓webブラウザ無料サイト</a></h1>
    <div class="blockbody">
      <p>投資メモと電卓が無料の便利サイトです　　<a href="https://memoc.pages.dev/" target="_blank" rel="noopener noreferrer">メモ帳代わりwebブラウザ便利サイト</a></p>
      <p>
        <a href="https://memoc.pages.dev/tver/" target="_blank" rel="noopener noreferrer">TVerティーバーの検索用リンク集</a>
        <a href="https://memoc.pages.dev/tokei/" target="_blank" rel="noopener noreferrer">現在時刻リアルタイム</a>
        <a href="https://memoc.pages.dev/inlink/" target="_blank" rel="noopener noreferrer">便利サイト無料で生活に役立つリンク集</a>
      </p>
      <p>
        <a href="https://memoc.pages.dev/game1/" target="_blank" rel="noopener noreferrer">無料ブラウザゲームPCスマホタブレット対応</a>
        <a href="https://memoc.pages.dev/illust/" target="_blank" rel="noopener noreferrer">イラスト無料おしゃれ</a>
        <a href="https://memoc.pages.dev/muden/" target="_blank" rel="noopener noreferrer">電卓</a>
        <a href="https://memoc.pages.dev/toushi/" target="_blank" rel="noopener noreferrer">投資メモ</a>
        <a href="https://memoc.pages.dev/rank/" target="_blank" rel="noopener noreferrer">ランキング</a>
      </p>
    </div>
  </div>
  <div id="links-left" aria-label="サイドナビゲーション">
    <div class="sidetitle">便利なタイマー</div>
    <div class="side">
      <p><a href="https://memoc.pages.dev/yzpa1/" target="_blank" rel="noopener noreferrer">タイマーおしゃれサイトの解説 3分で音が鳴る設定も簡単3タッチ</a></p>
      <p><a href="https://memoc.pages.dev/yzp1/" target="_blank" rel="noopener noreferrer">勉強タイマーおすすめwebサイトの説明 PCスマホ対応</a></p>
    </div>
    <div class="sidetitle">人気順コンテンツ</div>
    <div class="side">
      <p>1　<a href="https://memoc.pages.dev/game1/" target="_blank" rel="noopener noreferrer">無料ブラウザゲーム PCスマホタブレット</a></p>
      <p>2　<a href="https://memoc.pages.dev/tokei/" target="_blank" rel="noopener noreferrer">現在時刻リアルタイム 秒時計 Web表示</a></p>
      <p>3　<a href="https://memoc.pages.dev/tver/" target="_blank" rel="noopener noreferrer">TVer検索用リンク集 ジャンル別</a></p>
      <p>4　<a href="https://memoc.pages.dev/naniwa/" target="_blank" rel="noopener noreferrer">なにわ男子 イラストとプロフィール</a></p>
      <p>5　<a href="https://memoc.pages.dev/rank2/" target="_blank" rel="noopener noreferrer">肩こり解消グッズ 売れ筋ランキング</a></p>
    </div>
    <div class="sidetitle">無料ゲーム</div>
    <div class="side">
      <p><a href="https://memoc.pages.dev/sensuikangame1/" target="_blank" rel="noopener noreferrer">潜水艦ゲーム 解説</a></p>
      <p><a href="https://memoc.pages.dev/sensuikangame/" target="_blank" rel="noopener noreferrer">潜水艦ゲーム プレイページ</a></p>
      <p><a href="https://memoc.pages.dev/senshagame1/" target="_blank" rel="noopener noreferrer">戦車ゲーム 無課金説明</a></p>
      <p><a href="https://memoc.pages.dev/senshagame/" target="_blank" rel="noopener noreferrer">戦車ゲーム プレイページ</a></p>
      <p><a href="https://memoc.pages.dev/kurumagamese/" target="_blank" rel="noopener noreferrer">車ゲーム ブラウザ版</a></p>
      <p><a href="https://memoc.pages.dev/kurumagame/" target="_blank" rel="noopener noreferrer">車ゲーム モバイル版</a></p>
      <p><a href="https://memoc.pages.dev/kurumagamepc/" target="_blank" rel="noopener noreferrer">車ゲーム PC版</a></p>
      <p><a href="https://memoc.pages.dev/yzombi1/" target="_blank" rel="noopener noreferrer">ホラーシューティング ゾンビゲーム</a></p>
      <p><a href="https://memoc.pages.dev/yzombie/" target="_blank" rel="noopener noreferrer">ゾンビ迷宮脱出ゲーム</a></p>
      <p><a href="https://memoc.pages.dev/taisengame/" target="_blank" rel="noopener noreferrer">カード対戦ゲーム 二人はペンギン</a></p>
      <p><a href="https://memoc.pages.dev/y2cardgame/" target="_blank" rel="noopener noreferrer">カードゲーム プレイページ</a></p>
    </div>
    <div class="sidetitle">学習ゲーム</div>
    <div class="side">
      <p><a href="https://memoc.pages.dev/y10k2/" target="_blank" rel="noopener noreferrer">英単語の覚えやすい方法</a></p>
      <p><a href="https://memoc.pages.dev/y6f2/" target="_blank" rel="noopener noreferrer">英語クイズ 小学生向け 発音付き</a></p>
      <p><a href="https://memoc.pages.dev/y7g2/" target="_blank" rel="noopener noreferrer">英単語クイズ 小6 リスニング学習</a></p>
    </div>
    <div class="sidetitle">無料イラスト</div>
    <div class="side">
      <p><a href="https://memoc.pages.dev/peace/" target="_blank" rel="noopener noreferrer">ピース イラスト 着物など</a></p>
      <p><a href="https://memoc.pages.dev/piano/" target="_blank" rel="noopener noreferrer">ピアノ 鍵盤イラスト 無料</a></p>
      <p><a href="https://memoc.pages.dev/guitar/" target="_blank" rel="noopener noreferrer">ギター イラスト 無料</a></p>
      <p><a href="https://memoc.pages.dev/penguin/" target="_blank" rel="noopener noreferrer">ペンギン イラストと豆知識</a></p>
      <p><a href="https://memoc.pages.dev/panda/" target="_blank" rel="noopener noreferrer">パンダ イラスト 無料素材</a></p>
      <p><a href="https://memoc.pages.dev/xbuta/" target="_blank" rel="noopener noreferrer">豚 イラスト 無料</a></p>
      <p><a href="https://memoc.pages.dev/xakushu/" target="_blank" rel="noopener noreferrer">握手 イラスト 無料</a></p>
      <p><a href="https://memoc.pages.dev/xstar/" target="_blank" rel="noopener noreferrer">星 イラスト 無料</a></p>
    </div>
    <div class="sidetitle">レジャー系コンテンツ</div>
    <div class="side">
      <p><a href="https://memoc.pages.dev/yuenchi/" target="_blank" rel="noopener noreferrer">遊園地 入場者ランキング トップ20</a></p>
      <p><a href="https://memoc.pages.dev/ueno/" target="_blank" rel="noopener noreferrer">上野動物園 ガイドと見どころ</a></p>
      <p><a href="https://memoc.pages.dev/sinkai/" target="_blank" rel="noopener noreferrer">深海魚 画像まとめ</a></p>
    </div>
    <div class="sidetitle">便利なコンテンツ</div>
    <div class="side">
      <p><a href="https://memoc.pages.dev/memode/" target="_blank" rel="noopener noreferrer">メモ付き電卓 ブラウザアプリ</a></p>
      <p><a href="https://memoc.pages.dev/muden/" target="_blank" rel="noopener noreferrer">電卓 無料サイト 便利リンク集</a></p>
      <p><a href="https://memoc.pages.dev/toushi/" target="_blank" rel="noopener noreferrer">投資メモと電卓のトップページ</a></p>
    </div>
    <div class="sidetitle">暮らし生活リンク</div>
    <div class="side">
      <a href="https://www.post.japanpost.jp/index/" target="_blank" rel="noopener noreferrer">郵便局</a>
      <a href="https://www.kuronekoyamato.co.jp/" target="_blank" rel="noopener noreferrer">ヤマト運輸</a>
      <a href="https://amzn.to/3RVk3jJ/" target="_blank" rel="noopener noreferrer">Amazon</a>
      <a href="https://www.rakuten.co.jp/" target="_blank" rel="noopener noreferrer">楽天</a>
      <a href="https://shopping.yahoo.co.jp/" target="_blank" rel="noopener noreferrer">ヤフーショッピング</a>
      <a href="https://auctions.yahoo.co.jp/" target="_blank" rel="noopener noreferrer">ヤフオク</a>
      <a href="https://jp.mercari.com/" target="_blank" rel="noopener noreferrer">メルカリ</a>
      <a href="https://jmty.jp/" target="_blank" rel="noopener noreferrer">ジモティー</a>
    </div>
    <div class="sidetitle">リンク</div>
    <div class="side">
      <a href="https://slun.web.fc2.com/" target="_blank" rel="noopener noreferrer">新宿ランチ会 相席の社会人サークル</a>
      <a href="https://katam.web.fc2.com/" target="_blank" rel="noopener noreferrer">肩にこり枕</a>
      <a href="https://tuboli.web.fc2.com/" target="_blank" rel="noopener noreferrer">ツボの理屈</a>
      <a href="https://takra.web.fc2.com/" target="_blank" rel="noopener noreferrer">卓球中古ラケット 激安店</a>
    </div>
    <div class="sidetitle">ＱＲコード</div>
    <div class="side"><img alt="投資メモサイトのQRコード" src="https://memoc.pages.dev/images/memochou.png" width="220" height="220"></div>
  </div>
  <div id="content" role="main">
    <h2>投資メモ 株式リンク集</h2>
    <p>投資メモと電卓が無料で使える当サイトは、積立NISAや長期投資の金額シミュレーション、投資メモの保存、日々の株価チェック用リンク集をワンストップで提供します。初心者向けに「少額から始める投資」「複利の効果」「リスク管理の基本」も分かりやすく解説しています。</p>
    <!-- メモフォーム -->
    <section aria-labelledby="memo-heading">
      <h3 id="memo-heading">投資メモ 保存欄</h3>
      <form id="memoForm" autocomplete="off">
        <label for="memo" class="visually-hidden">投資メモ入力欄</label>
        <textarea id="memo" name="memo" rows="14" cols="68" wrap="soft" aria-label="投資メモ入力欄">投資メモ
</textarea>
        <div>
          <button type="button" id="memoSave" aria-label="メモを保存する">保存</button>
          <button type="button" id="memoClear" aria-label="メモを消去する">消去</button>
        </div>
        <p id="memoNotice" aria-live="polite"></p>
      </form>
    </section>
    <p><a href="https://memoc.pages.dev/interestcalculation/" target="_blank" rel="noopener noreferrer">複利電卓 無料 積立NISAの金額再投資計算機</a></p>
    <p>こちらの複利電卓 積立NISAの金額再投資計算機は、無料でお使いいただけます。</a></p>
    <p>投資用株式リンク集　
      <a href="https://finance.yahoo.co.jp/quote/998407.O/chart" target="_blank" rel="noopener noreferrer">日経平均チャート</a>
      <a href="https://finance.yahoo.co.jp/quote/%5EDJI/chart" target="_blank" rel="noopener noreferrer">NYダウチャート</a>
      <a href="https://finance.yahoo.co.jp/quote/%5EIXIC/chart" target="_blank" rel="noopener noreferrer">ナスダックチャート</a>
    </p>
    <p>
      <a href="https://nikkei225jp.com/chart/" target="_blank" rel="noopener noreferrer">日経平均リアルタイムチャート</a>
      <a href="https://nikkei225jp.com/nasdaq/" target="_blank" rel="noopener noreferrer">NYダウ平均株価リアルタイムチャート</a>
    </p>
    <p>
      <a href="https://finance.yahoo.co.jp/" target="_blank" rel="noopener noreferrer">ヤフーファイナンス</a>
      <a href="https://finance.yahoo.co.jp/stocks/ranking/up" target="_blank" rel="noopener noreferrer">値上がりランキング</a>
      <a href="https://finance.yahoo.co.jp/stocks/ranking/down" target="_blank" rel="noopener noreferrer">値下がりランキング</a>
      <a href="https://finance.yahoo.co.jp/stocks/ranking/stopHigh" target="_blank" rel="noopener noreferrer">ストップ高</a>
      <a href="https://finance.yahoo.co.jp/stocks/ranking/stopLow" target="_blank" rel="noopener noreferrer">ストップ安</a>
      <a href="https://finance.yahoo.co.jp/stocks/ranking/volume" target="_blank" rel="noopener noreferrer">出来高</a>
    </p>
    <p><a href="https://kabutan.jp/" target="_blank" rel="noopener noreferrer">株探</a>　　<a href="https://minkabu.jp/" target="_blank" rel="noopener noreferrer">みんかぶ</a></p>
    <p><a href="https://www.nikkei.com/" target="_blank" rel="noopener noreferrer">日本経済新聞</a></p>
    <h3>株初心者は何から始めるか まずは少額から NISA のすすめ</h3>
    <p>投資初心者におすすめのスタートは、少額投資と知識の習得です。まずは投資の入門書を読み、10万円程度の少額から実際に始め、積立NISAなど非課税枠を活用して長期分散投資を行いましょう。</p>
    <h4>信用取引とレバレッジの注意点</h4>
    <p>信用取引は高いリスクを伴い、暴落局面で損失が大きく膨らむ可能性があります。長期の資産形成を目指すなら現物中心の運用と資金管理を優先してください。</p>
    <h3>電卓 web ブラウザ 計算機とメモ帳</h3>
    <div id="calculator" aria-labelledby="calc-heading">
      <h4 id="calc-heading">簡易電卓</h4>
      <input type="text" id="display" aria-label="電卓表示" disabled>
      <table role="grid" aria-label="電卓キー">
        <tr>
          <td><button type="button" onclick="appendToDisplay('7')" aria-label="数字7">7</button></td>
          <td><button type="button" onclick="appendToDisplay('8')" aria-label="数字8">8</button></td>
          <td><button type="button" onclick="appendToDisplay('9')" aria-label="数字9">9</button></td>
          <td><button type="button" onclick="appendToDisplay('+')" aria-label="足す">+</button></td>
        </tr>
        <tr>
          <td><button type="button" onclick="appendToDisplay('4')" aria-label="数字4">4</button></td>
          <td><button type="button" onclick="appendToDisplay('5')" aria-label="数字5">5</button></td>
          <td><button type="button" onclick="appendToDisplay('6')" aria-label="数字6">6</button></td>
          <td><button type="button" onclick="appendToDisplay('-')" aria-label="引く">-</button></td>
        </tr>
        <tr>
          <td><button type="button" onclick="appendToDisplay('1')" aria-label="数字1">1</button></td>
          <td><button type="button" onclick="appendToDisplay('2')" aria-label="数字2">2</button></td>
          <td><button type="button" onclick="appendToDisplay('3')" aria-label="数字3">3</button></td>
          <td><button type="button" onclick="appendToDisplay('*')" aria-label="掛ける">*</button></td>
        </tr>
        <tr>
          <td><button type="button" onclick="appendToDisplay('0')" aria-label="数字0">0</button></td>
          <td><button type="button" onclick="backspace()" aria-label="一文字削除">←</button></td>
          <td><button type="button" onclick="calculateResult()" aria-label="計算実行">=</button></td>
          <td><button type="button" onclick="appendToDisplay('/')" aria-label="割る">/</button></td>
        </tr>
        <tr>
          <td><button type="button" onclick="appendToDisplay('(')" aria-label="左括弧">(</button></td>
          <td><button type="button" onclick="appendToDisplay(')')" aria-label="右括弧">)</button></td>
          <td><button type="button" onclick="appendToDisplay('.')" aria-label="小数点">.</button></td>
          <td><button type="button" onclick="clearDisplay()" aria-label="クリア">C</button></td>
        </tr>
      </table>
      <p id="calcNotice" aria-live="polite"></p>
    </div>
    <!-- FAQ for search snippets -->
    <section aria-labelledby="faq-heading">
      <h3 id="faq-heading">よくある質問</h3>
      <dl>
        <dt>投資メモと電卓は無料ですか</dt>
        <dd>はい。投資メモと電卓はブラウザ上で無料で利用できます。追加料金はありません。</dd>
        <dt>積立NISAのシミュレーションは正確ですか</dt>
        <dd>シミュレーションは基本的な複利計算で将来の目安を示します。実際の運用成績は変動します。</dd>
        <dt>メモはどこに保存されますか</dt>
        <dd>メモはブラウザのローカルストレージに保存されます。端末を消去するとメモは消えるため必要ならバックアップを行ってください。</dd>
        <dt>スマホでも使えますか</dt>
        <dd>はい。レスポンシブ対応でスマホ／タブレットでも使いやすく設計しています。</dd>
      </dl>
    </section>
    <hr>
    <h3>株式証券会社 銀行の便利リンク集</h3>
    <p>株式証券会社・NISA積み立て　
      <a href="https://www.nomura.co.jp/" target="_blank" rel="noopener noreferrer">野村證券</a>
      <a href="https://www.daiwa.jp/" target="_blank" rel="noopener noreferrer">大和証券</a>
      <a href="https://www.mizuho-sc.com/" target="_blank" rel="noopener noreferrer">みずほ証券</a>
      <a href="https://www.smbcnikko.co.jp/" target="_blank" rel="noopener noreferrer">SMBC日興証券</a>
      <a href="https://www.sc.mufg.jp/" target="_blank" rel="noopener noreferrer">三菱UFJモルガン・スタンレー証券</a>
      <a href="https://www.sbisec.co.jp/" target="_blank" rel="noopener noreferrer">SBI証券</a>
      <a href="https://www.rakuten-sec.co.jp/" target="_blank" rel="noopener noreferrer">楽天証券</a>
      <a href="https://www.click-sec.com/" target="_blank" rel="noopener noreferrer">GMOクリック証券</a>
      <a href="https://www.sbineotrade.jp/" target="_blank" rel="noopener noreferrer">SBIネオトレード証券</a>
    </p>
    <p>銀行　
      <a href="https://www.jp-bank.japanpost.jp/" target="_blank" rel="noopener noreferrer">ゆうちょ銀行</a>
      <a href="https://www.bk.mufg.jp/" target="_blank" rel="noopener noreferrer">三菱UFJ銀行</a>
      <a href="https://www.smbc.co.jp/" target="_blank" rel="noopener noreferrer">三井住友銀行</a>
      <a href="https://www.mizuhobank.co.jp/" target="_blank" rel="noopener noreferrer">みずほ銀行</a>
      <a href="https://www.resonabank.co.jp/" target="_blank" rel="noopener noreferrer">りそな銀行</a>
      <a href="https://www.sbishinseibank.co.jp/" target="_blank" rel="noopener noreferrer">SBI新生銀行</a>
      <a href="https://www.netbk.co.jp/contents/" target="_blank" rel="noopener noreferrer">住信SBIネット銀行</a>
      <a href="https://www.jibunbank.co.jp/" target="_blank" rel="noopener noreferrer">au じぶん銀行</a>
      <a href="https://www.rakuten-bank.co.jp/" target="_blank" rel="noopener noreferrer">楽天銀行</a>
      <a href="https://moneykit.net/" target="_blank" rel="noopener noreferrer">ソニー銀行</a>
    </p>
  </div> <!-- #content -->
  <div style="clear:both"></div>
</div> <!-- #container -->
<script>
/* メモの自動保存と保存/読み込み処理 */
(function(){
  const textarea = document.getElementById('memo');
  const saveBtn = document.getElementById('memoSave');
  const clearBtn = document.getElementById('memoClear');
  const notice = document.getElementById('memoNotice');
  const STORAGE_KEY = 'toushi_memo_v1';
  // 初期読み込み
  try {
    const saved = localStorage.getItem(STORAGE_KEY);
    if(saved) textarea.value = saved;
  } catch(e) {
    console.warn('localStorage unavailable', e);
  }
  // 入力時にデバウンスで自動保存
  let saveTimer = null;
  textarea.addEventListener('input', function(){
    clearTimeout(saveTimer);
    saveTimer = setTimeout(function(){
      try {
        localStorage.setItem(STORAGE_KEY, textarea.value);
        notice.textContent = 'メモを自動保存しました';
      } catch(e) {
        notice.textContent = '自動保存に失敗しました';
      }
      setTimeout(()=>{ notice.textContent = '' }, 1500);
    }, 700);
  });
  saveBtn.addEventListener('click', function(){
    try {
      localStorage.setItem(STORAGE_KEY, textarea.value);
      notice.textContent = 'メモを保存しました';
    } catch(e) {
      notice.textContent = '保存に失敗しました';
    }
    setTimeout(()=>{ notice.textContent = '' }, 1500);
  });
  clearBtn.addEventListener('click', function(){
    if(confirm('メモを消去しますか？')) {
      textarea.value = '';
      try {
        localStorage.removeItem(STORAGE_KEY);
      } catch(e) {}
      notice.textContent = 'メモを消去しました';
      setTimeout(()=>{ notice.textContent = '' }, 1500);
    }
  });
})();
/* 電卓機能 セキュアな式検証と評価 */
(function(){
  const display = document.getElementById('display');
  const calcNotice = document.getElementById('calcNotice');
  window.appendToDisplay = function(value){
    display.value = (display.value || '') + value;
  };
  window.clearDisplay = function(){
    display.value = '';
    calcNotice.textContent = '';
  };
  window.backspace = function(){
    display.value = (display.value || '').slice(0, -1);
  };
  // 安全性: 許可文字だけを通す正規表現
  const ALLOWED = /^[0-9+\-*/().\s%]+$/;
  window.calculateResult = function(){
    const expr = (display.value || '').trim();
    if(!expr){
      calcNotice.textContent = '式を入力してください';
      return;
    }
    // 小数やパーセントを許容するための前処理
    // パーセントを扱う: 50% -> (50/100)
    const replaced = expr.replace(/([0-9]+(?:\.[0-9]+)?)%/g, '($1/100)');
    if(!ALLOWED.test(replaced)){
      display.value = 'Error';
      calcNotice.textContent = '無効な文字が含まれています';
      return;
    }
    try {
      // 評価は Function を用いるが事前に厳密な検証を実施しているため安全性を確保
      // eslint-disable-next-line no-new-func
      const fn = new Function('return ' + replaced + ';');
      const result = fn();
      if(typeof result === 'number' && isFinite(result)) {
        display.value = String(result);
        calcNotice.textContent = '';
      } else {
        display.value = 'Error';
        calcNotice.textContent = '計算結果が無効です';
      }
    } catch (e) {
      display.value = 'Error';
      calcNotice.textContent = '計算に失敗しました';
    }
  };
  // キーボード操作対応
  document.addEventListener('keydown', function(e){
    const key = e.key;
    if(/^[0-9+\-*/().%]$/.test(key)) {
      // 数字や演算子はそのまま追加（入力フォーカスは電卓ボタンではないが許容）
      // Prevent interfering with other inputs when textarea is focused
      if(document.activeElement.tagName !== 'TEXTAREA' && document.activeElement.tagName !== 'INPUT') {
        appendToDisplay(key);
        e.preventDefault();
      }
    } else if(key === 'Enter'){
      if(document.activeElement.tagName !== 'TEXTAREA') {
        calculateResult();
        e.preventDefault();
      }
    } else if(key === 'Backspace'){
      if(document.activeElement.tagName !== 'TEXTAREA' && document.activeElement.tagName !== 'INPUT') {
        backspace();
        e.preventDefault();
      }
    } else if(key === 'Escape'){
      clearDisplay();
    }
  }, false);
})();
</script>
</body>
</html>